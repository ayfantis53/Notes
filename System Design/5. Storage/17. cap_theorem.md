## 17. CAP THEOREM PART 1

- The `CAP theorem` states that it's impossible for a distributed data system to simultaneously provide `Consistency`, `Availability`, and `Partition` Tolerance. 
- When a `network partition` occurs, a system must choose between `CP` (Consistency and Partition Tolerance) and `AP` (Availability and Partition Tolerance). 
- This means that during a network failure, a system can either ensure all nodes have the same data (Consistency), or ensure all nodes respond to requests (Availability), but not both.

#### CAP theorem breakdown
1. **Consistency (C)**: 
    - Every read receives the most recent `write` or an `error`. 
    - All nodes in the system see the same data at the same time. 
2. **Availability (A)**: 
    - Every request receives a `non-error` response, without a guarantee that it contains the most recent `write`.
    - The system remains operational even if some nodes are down. 
3. **Partition Tolerance (P)**: 
    - The system continues to operate despite network failures that cause a "`partition`" or `split`, preventing nodes from communicating with each other. 
    - In real-world distributed systems, partition tolerance is considered essential, meaning a system must choose between consistency and availability during a partition.

#### System design choices
- **CP systems**: 
    - Prioritize `consistency` and `partition tolerance`, sacrificing availability during a network partition.
    - If a partition occurs, the system might block requests to prevent returning inconsistent data, making it unavailable for a period.
- **AP systems**: 
    - Prioritize `availability` and `partition tolerance`, sacrificing consistency during a network partition. 
    - This allows the system to remain available by returning data that might be stale, often using a relaxed consistency model like eventual consistency. 
